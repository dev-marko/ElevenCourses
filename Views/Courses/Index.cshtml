@model IEnumerable<ElevenCourses.Models.Course>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="d-flex justify-content-between mt-3">
    <div>
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a asp-area="" asp-controller="Home" asp-action="Index">
                        <i class="bi bi-house-door"></i>Home
                    </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">All Courses</li>
            </ol>
        </nav>
    </div>
    <div>
        <p>
            <a class="btn btn-outline-secondary" asp-action="Create">Create New</a>
        </p>
    </div>
</div>

<div class="d-flex justify-content-center m-3">
    <form class="d-flex w-50" role="search" asp-controller="Courses" asp-action="Index" method="get">
        <input class="form-control me-2" name="query" type="search" placeholder="Search a course..." aria-label="Search">
        <button class="btn btn-primary d-flex gap-1" type="submit">
            <i class="bi bi-search"></i>Search
        </button>
    </form>
</div>

<div class="d-flex flex-wrap justify-content-center gap-3">
    @foreach (var item in Model)
    {
        <div class="card bg-light rounded shadow-sm" style="width: 25em">
            <div class="card-body">
                <h4 class="card-title">@item.Name</h4>
                <h6 class="card-subtitle">
                    Author:
                    @if (!string.IsNullOrEmpty(item.Creator?.FirstName) && !string.IsNullOrEmpty(item.Creator.LastName))
                    {
                        @($"{item.Creator.FirstName} {item.Creator.LastName}")
                    }
                    else
                    {
                        @item.Creator?.UserName
                    }
                </h6>
                <p class="card-text mt-3">@item.Description</p>
                <a class="btn btn-primary me-3" asp-action="Details" asp-route-id="@item.Id">View</a>
                <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> |
                <a asp-action="Delete" asp-route-id="@item.Id">Delete</a>
            </div>
        </div>
    }
</div>